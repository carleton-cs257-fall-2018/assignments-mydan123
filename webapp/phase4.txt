Web based API Project phase 4
CS257
Daniel Busis and Will Thompson


SQL Table Structure mockups:

CREATE TABLE data_gdp_usd (
	country_name TEXT,
	year INT,
	gdp_usd FLOAT
);

CREATE TABLE data_gdp_ppp (
	country_name TEXT,
	year INT,
	gdp_ppp FLOAT
);

CREATE TABLE data_gdp_capita_usd (
	country_name TEXT,
	year INT,
	gdp_capita_usd FLOAT
);

CREATE TABLE data_gdp_capita_ppp (
	country_name TEXT,
	year INT,
	gdp_capita_ppp FLOAT
);


API Query Structure:

The database has several different types of data. For each data statistic being looked at, the query structure
will be the same, with the form of /countries/[data wanted]/?[optional-argument]
Below, we demonstrate each optional argument using "gdp" as our example data type, 
and then list each other query type without any optional GET arguments.

1. Synopsis: Get a list of each country's GDP (in USD) for each year in the database
    
Query: /countries/gdp_usd
	 
Response: returns a list of dictionaries containing every country in the database alongwith that country’s GDP per year. 
Each dictionary contains a country’s name, one specific year, and the country’s GDP during that year.  

Example: http://apiquery.com/countries/gdp_usd/
[{‘name’ : ‘Algeria’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars},
 {‘name’ : ‘Algeria’, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}, …
 {‘name’ : ‘Algeria’, ‘year’ : 2017, ‘GDP_USD’ : 50 million dollars},
 {‘name’ : ‘Bahrain, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars},
 {‘name’ : ‘Bahrain, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}, …
 {‘name’ : ‘Bahrain’, ‘year’ : 2017, ‘GDP_USD’ : 50 million dollars}, …
]


2. Synopsis: Get a list of one country's GDP for each year in the database
    
Query: /countries/gdp_usd?country_name=somecountry
	 
Response: returns a list of dictionaries. This list of dictionaries contains the specified country’s name along with its GDP per year. 

Example: http://apiquery.com/countries/gdp_usd/?country_name=Jordan
[{‘name’ : ‘Jordan’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars},
 {‘name’ : ‘Jordan’, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}, …
 {‘name’ : ‘Jordan’, ‘year’ : 2017, ‘GDP_USD’ : 50 million dollars}
]


3. Synopsis: Get a list of country's GDP for one specified year. (Mutually exclusive with the start_year and end_year arguments).
    
Query: /countries/gdp_usd/?year=someyear
	 
Response: returns a list of dictionaries. Each dictionary corresponds to a country, 
each country is paried with a dictionary containing a key representing GDP_USD and a value representing the specified year.

Example: http://apiquery.com/countries/gdp_usd/?year=1960
[{‘name’ : ‘Algeria’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars} 
 {‘name’ : ‘Bahrain’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Tunisia’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars}
]


4. Synopsis: Get a list of country's GDP for a set of years from start_year to end_year, inclusively. 
(Mutually exclusive with the year argument).

Query: /countries/gdp_usd/?country_name=somecountry&start_year=someyear&end_year=someyear

Response: Returns a list of dictionaries with the country’s name, the year, and the GDP_USD during that year. 
Returns dictionaries with year values within the start_year and end_year endpoints inclusively. 

Example: http://apiquery.com/countries/gdp_usd/?country_name=Jordan&start_year=1960&end_year=1963 
[{‘name’ : ‘Jordan’, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1962, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1963, ‘GDP_USD’ : 50 million dollars}
]


5. Synopsis: Get a list of country's GDP for all years except years where no value is available

Query: /countries/gdp_usd/?country_name=Jordan&ignore_null=True

Response: Returns a list of dictionaries with the country’s name, the year, and the GDP_USD during that year.
Does not return dictionaries where no data is available for that year.

Example: http://apiquery.com/countries/gdp_usd/?country_name=Jordan&start_year=1960&end_year=1963 
[{‘name’ : ‘Jordan’, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1962, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1963, ‘GDP_USD’ : 50 million dollars}
]
(While the dictionary {‘name’ : ‘Jordan’, ‘year’ : 1940, ‘GDP_USD’ : NULL} would NOT be returned.)


6. Synopsis: Get a list of country's GDP for all years except years where no value is available

Query: /countries/gdp_usd/?country_name=Jordan&ignore_null=True

Response: Returns a list of dictionaries with the country’s name, the year, and the GDP_USD during that year.
Does not return dictionaries where no data is available for that year.

Example: http://apiquery.com/countries/gdp_usd/?country_name=Jordan&start_year=1960&end_year=1963 
[{‘name’ : ‘Jordan’, ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1962, ‘GDP_USD’ : 50 million dollars}
 {‘name’ : ‘Jordan’, ‘year’ : 1963, ‘GDP_USD’ : 50 million dollars}
]
(While the dictionary {‘name’ : ‘Jordan’, ‘year’ : 1940, ‘GDP_USD’ : NULL} would NOT be returned.)


7. Synopsis: Get a list of country's GDP, sorting by country name first and then by year.

Query: /countries/gdp_usd/?sort_by=Name

Response: Returns a list of dictionaries with the country’s name, the year, and the GDP_USD during that year.
Returns in order first by country name, then by year.

[{‘name’ : 'Algeria', ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars},
 {‘name’ : 'Bahrain', ‘year’ : 1960, ‘GDP_USD’ : 50 million dollars}, …
 {‘name’ : 'Algeria', ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}, 
 {‘name’ : 'Bahrain', ‘year’ : 1961, ‘GDP_USD’ : 50 million dollars}, …
]


 --- Other basic queries: ---

Synopsis: Get a list of each country's GDP (normalized by Purchase Power Parity) for each year in the database
    
Query: /countries/gdp_ppp
	 
Response: returns a list of dictionaries containing every country in the database alongwith that country’s GDP in PPP units per year.

Example: http://apiquery.com/countries/gdp_ppp/
[{‘name’ : ‘Algeria’, ‘year’ : 1960, ‘GDP_PPP’ : 50 million dollars},
 {‘name’ : ‘Algeria’, ‘year’ : 1961, ‘GDP_PPP’ : 50 million dollars}, …
 {‘name’ : ‘Algeria’, ‘year’ : 2017, ‘GDP_PPP’ : 50 million dollars},
 {‘name’ : ‘Bahrain, ‘year’ : 1960, ‘GDP_PPP’ : 50 million dollars},
 {‘name’ : ‘Bahrain, ‘year’ : 1961, ‘GDP_PPP’ : 50 million dollars}, …
 {‘name’ : ‘Bahrain’, ‘year’ : 2017, ‘GDP_PPP’ : 50 million dollars}, …
]


Synopsis: Get a list of each country's GDP per capita, in USD, for each year in the database
    
Query: /countries/gdp_usd_capita
	 
Response: returns a list of dictionaries containing every country in the database alongwith that country’s GDP per capita in USD per year.

Example: http://apiquery.com/countries/gdp_usd_capita/
[{‘name’ : ‘Algeria’, ‘year’ : 1960, ‘GDP_USD_CAPITA’ : 10,000},
 {‘name’ : ‘Algeria’, ‘year’ : 1961, ‘GDP_USD_CAPITA’ : 10,000}, …
 {‘name’ : ‘Algeria’, ‘year’ : 2017, ‘GDP_USD_CAPITA’ : 10,000},
 {‘name’ : ‘Bahrain, ‘year’ : 1960, ‘GDP_USD_CAPITA’ : 10,000},
 {‘name’ : ‘Bahrain, ‘year’ : 1961, ‘GDP_USD_CAPITA’ : 10,000}, …
 {‘name’ : ‘Bahrain’, ‘year’ : 2017, ‘GDP_USD_CAPITA’ : 10,000}, …
]


Synopsis: Get a list of each country's GDP per capita, in Purchasing Power Parity units, for each year in the database
    
Query: /countries/gdp_ppp_capita
	 
Response: returns a list of dictionaries containing every country in the database alongwith that country’s GDP per capita in PPP units per year.

Example: http://apiquery.com/countries/gdp_PPP_capita/
[{‘name’ : ‘Algeria’, ‘year’ : 1960, ‘GDP_PPP_CAPITA’ : 10,000},
 {‘name’ : ‘Algeria’, ‘year’ : 1961, ‘GDP_PPP_CAPITA’ : 10,000}, …
 {‘name’ : ‘Algeria’, ‘year’ : 2017, ‘GDP_PPP_CAPITA’ : 10,000},
 {‘name’ : ‘Bahrain, ‘year’ : 1960, ‘GDP_PPP_CAPITA’ : 10,000},
 {‘name’ : ‘Bahrain, ‘year’ : 1961, ‘GDP_PPP_CAPITA’ : 10,000}, …
 {‘name’ : ‘Bahrain’, ‘year’ : 2017, ‘GDP_PPP_CAPITA’ : 10,000}, …
]


